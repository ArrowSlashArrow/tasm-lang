; program that gets user data

_init:
    MALLOC 50
    INITMEM 16777216,16777215,379300538,777106353,413686395,731516588,240153139,472529181,418940880,34091077,7981343,218054649,870176171,198181423,30385501,535530869,446665756,288444085,908843652,408341252,783474791,496828879,149233788,594613413,195800985,251674874,816566190,719298082,595123111,55806822,180585958,112475163,161090488,88710580,418076436,79364697,10450509,10581067,485663757,909479960,351924636,490034395,644857639,192982815,45355895,839730376,435320294,502874744,532392506,936336911
    IOBLOCK add, 0, +
    IOBLOCK sub, 2, -
    IOBLOCK fetch, 4, FETCH
    DISPLAY C1
    DISPLAY C2

forward:
    MPTR 1
    SUB C3, 1
    FG forward, display, C3, 0

fetch:  ; fetches value from cell
    MREAD
    MRESET
    MOV C3, C1
    SUB C3, 1
    FG forward, display, C3, 0

display:
    MFUNC
    MOV C2, MEMREG

; input
set50:
    MOV C1, 50

add:  ; adds 1 to requested value
    ADD C1, 1
    SG set50, C1, 50 ; clamp

sub:  ; subs 1 from requested value
    SUB C1, 1
    SL set0, C1, 0 ; clamp

set0:
    MOV C1, 0
